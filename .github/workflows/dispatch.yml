name: Dispatch Workflow

on: [push, pull_request]

jobs:
  dispatch:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.8'

      - name: Trigger Generate Task Workflow
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: generate_task.yml
          token: ${{ secrets.GITHUB_TOKEN }}
          inputs: |
            {
              "template": "# Programming Task: Modeling Objects in [Language]\n\n## Introduction\n\nIn this task, you will model objects in [Language]. You will practice creating classes, defining attributes, and implementing methods. This exercise will help you understand the principles of object-oriented programming and how to structure your code effectively.\n\n## Learning Objectives\n\nBy the end of this task, you should be able to:\n\n1. Design and implement classes in [Language].\n2. Define and use attributes (fields) and methods (functions).\n3. Implement constructors and destructors (if applicable).\n4. Apply principles of encapsulation, inheritance, and polymorphism.\n5. Write unit tests to verify the correctness of your code.\n\n## Task Requirements\n\n### Part 1: Define a Class\n\n1. Create a class named `Indamon` with the following attributes:\n- `name` (string): The name of the Indamon.\n- `hp` (integer): The hit points of the Indamon.\n- `attack` (integer): The attack value of the Indamon.\n- `defense` (integer): The defense value of the Indamon.\n- `fainted` (boolean): A flag indicating if the Indamon has fainted.\n\n2. Implement a constructor to initialize these attributes.\n\n### Part 2: Implement Methods\n\n1. Add getter and setter methods for each attribute.\n2. Implement a method `printInfo` to print all the information about the Indamon.\n3. Implement a method `attack` that takes another `Indamon` object as a parameter and simulates an attack, reducing the opponent's `hp` based on the attacker's `attack` value and the opponent's `defense` value.\n\n### Part 3: Unit Testing\n\n1. Write unit tests to verify the correctness of your class implementation.\n2. Ensure that all methods are tested, including edge cases (e.g., attacking when `hp` is zero).\n\n### Part 4: Documentation\n\n1. Add comments and docstrings to your code to explain the purpose of each class, method, and attribute.\n2. Ensure that your code adheres to the style guidelines for [Language].\n\n## Submission\n\n1. Submit your code by pushing it to your GitHub repository in the `submissions` folder.\n2. Ensure that all unit tests pass before submission.\n3. The grading will be based on the correctness, code style, efficiency, and documentation.\n\n## Example\n\nHere is an example of how your `Indamon` class might look in [Language]:\n\n```[Language]\nclass Indamon:\n    def __init__(self, name, hp, attack, defense):\n        self.name = name\n        self.hp = hp\n        self.attack = attack\n        self.defense = defense\n        self.fainted = False\n\n    def print_info(self):\n        print(f\"Name: {self.name}\")\n        print(f\"HP: {self.hp}\")\n        print(f\"Attack: {self.attack}\")\n        print(f\"Defense: {self.defense}\")\n        print(f\"Fainted: {self.fainted}\")\n\n    def attack(self, other):\n        if not self.fainted and not other.fainted:\n            damage = self.attack - other.defense\n            other.hp -= max(damage, 0)\n            if other.hp <= 0:\n                other.fainted = True\n                other.hp = 0\n            print(f\"{self.name} attacked {other.name} for {damage} damage! {other.name} has {other.hp} HP left.\")\n        else:\n            print(f\"Cannot attack. One of the Indamons has fainted.\")\n``",
              "requirements": "{\"difficulty\": \"medium\", \"language\": \"JavaScript\"}"
            }
